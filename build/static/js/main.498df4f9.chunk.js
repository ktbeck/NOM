(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/boy.b17ad607.png"},25:function(e,t,a){},36:function(e,t,a){e.exports="pk_test_qfqQ6DM6qivuycGjPqZTRP1N"},37:function(e,t,a){e.exports="http://localhost:8080/payment"},39:function(e,t,a){e.exports=a(96)},44:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},62:function(e,t,a){},67:function(e,t,a){},87:function(e,t,a){},92:function(e,t,a){},94:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"db",function(){return f}),a.d(n,"auth",function(){return E});var r={};a.r(r),a.d(r,"doCreateUserWithEmailAndPassword",function(){return x}),a.d(r,"doSignInWithEmailAndPassword",function(){return M}),a.d(r,"doSignOut",function(){return D}),a.d(r,"doPasswordReset",function(){return U}),a.d(r,"doPasswordUpdate",function(){return N});var l={};a.r(l),a.d(l,"doCreateUser",function(){return L}),a.d(l,"onceGetUsers",function(){return q});var i=a(0),c=a.n(i),o=a(31),u=a.n(o),s=(a(44),a(99)),m=a(98),d=a(97),p=a(9),h=a.n(p);a(51),a(53);h.a.apps.length||h.a.initializeApp({apiKey:"AIzaSyBJP2J1ZLauCJDQHE0RGcxHAhlA9O3fFGY",authDomain:"nom-cc25c.firebaseapp.com",databaseURL:"https://nom-cc25c.firebaseio.com",projectId:"nom-cc25c",storageBucket:"nom-cc25c.appspot.com",messagingSenderId:"922157362655"});var f=h.a.database(),E=h.a.auth(),v=a(3),b=a(4),g=a(6),O=a(5),y=a(7),w=(a(57),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(j,null),c.a.createElement(S,null),c.a.createElement(C,null),c.a.createElement(k,null))}}]),t}(i.Component)),j=function(){return c.a.createElement("div",{id:"welcome-message"},c.a.createElement("h1",null,"Welcome to NOM"),c.a.createElement("h2",null,"Filling all of your eating needs"))},S=function(){return c.a.createElement("div",{className:"container",id:"mission-cont"},c.a.createElement("div",{className:"statement"},c.a.createElement("h1",null,"The Creation"),c.a.createElement("p",{id:"mission-statement-text"}," We created NOM to bring convenience to all slugs on campus who are trying to find affordable meals. Many students who possess a meal plan do not use their extra meal passes. Instead of letting them go to waste,we have provided a platform for those students to make an extra dollar while providing the opportunity to find economical meals.Along the way, we hope that this will also help UCSC's mission to alleviate food insecurity. ")))},C=function(){return c.a.createElement("div",{className:"container",id:"meetus-cont"},c.a.createElement("div",{className:"statement"},c.a.createElement("h1",null,"Meet the Team"),c.a.createElement("div",{id:"team-cont"},c.a.createElement("div",{className:"box"},c.a.createElement("h3",null," Eric "),c.a.createElement("img",{src:a(17),alt:"Eric",width:"100",height:"100"}),c.a.createElement("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."')),c.a.createElement("div",{className:"box"},c.a.createElement("h3",null," Kyler"),c.a.createElement("img",{src:a(17),alt:"Kyler",width:"100",height:"100"}),c.a.createElement("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."')),c.a.createElement("div",{className:"box"},c.a.createElement("h3",null," Megan"),c.a.createElement("img",{src:a(17),alt:"Megan",width:"100",height:"100"}),c.a.createElement("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."')),c.a.createElement("div",{className:"box"},c.a.createElement("h3",null," Nicolle"),c.a.createElement("img",{src:a(17),alt:"Nicolle",width:"100",height:"100"}),c.a.createElement("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."')),c.a.createElement("div",{className:"box"},c.a.createElement("h3",null," Steve"),c.a.createElement("img",{src:a(17),alt:"Steve",width:"100",height:"100"}),c.a.createElement("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."')))))},k=function(){return c.a.createElement("div",{className:"container",id:"contactus-cont"},c.a.createElement("div",{className:"statement"},c.a.createElement("h1",null,"Contact Us"),c.a.createElement("div",null," ",c.a.createElement("h3",null,"Want to give us some feedback? We would love to hear it! "),c.a.createElement("div",null," ",c.a.createElement("b",null,"Email:")," test@test.com "),c.a.createElement("div",null," ",c.a.createElement("b",null,"Phone:")," (123) 456-7890")),"Website made with help from tutorials on: https://www.robinwieruch.de"))},P=w,x=function(e,t){return E.createUserWithEmailAndPassword(e,t)},M=function(e,t){return E.signInWithEmailAndPassword(e,t)},D=function(){return E.signOut()},U=function(e){return E.sendPasswordResetEmail(e)},N=function(e){return E.currentUser.updatePassword(e)},L=function(e,t,a){return f.ref("users/".concat(e)).set({username:t,email:a})},q=function(){return f.ref("users").once("value")},A=function(){return c.a.createElement("button",{id:"Button",type:"button",onClick:r.doSignOut},"Sign Out")},F=a(15),R=(a(59),a(25),h.a.auth()),W=h.a.database(),I=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(O.a)(t).call(this,e))).handleButtonClick=a.handleButtonClick.bind(Object(F.a)(Object(F.a)(a))),a.state={formVisible:!1},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"handleButtonClick",value:function(){this.state.formVisible,document.addEventListener("click",this.handleClick.bind(this),!1),this.setState({formVisible:!this.state.formVisible})}},{key:"handleClick",value:function(e){this.node.contains(e.target)||this.setState({formVisible:!1})}},{key:"render",value:function(){var e=this,t=this.state.formVisible;return c.a.createElement("div",{ref:function(t){e.node=t}},c.a.createElement("button",{id:"Button",onClick:this.handleButtonClick},"Update Passes"),t?c.a.createElement(T,null):null)}}]),t}(i.Component);var T=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(O.a)(t).call(this,e))).onSubmit=function(e){W.ref("users/"+a.state.uid).update({numMeals:a.state.numMeals,mealPrice:a.state.mealPrice,preferredLocation:a.state.preferredLocation})},a.state={uid:R.currentUser.uid,numMeals:"",mealPrice:"",preferredLocation:"",locations:"",currentLat:"",currentLon:""},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e;W.ref("users/"+this.state.uid).on("value",function(e){this.setState({numMeals:e.val().numMeals,mealPrice:e.val().mealPrice,preferredLocation:e.val().preferredLocation})}.bind(this)),W.ref("locations").on("value",function(e){this.setState({locations:e.val()})}.bind(this));var t=function(t){e=t,this.setState({currentLat:e.coords.latitude,currentLon:e.coords.longitude})}.bind(this);navigator.geolocation.getCurrentPosition(t)}},{key:"getDistance",value:function(e,t,a,n){if(0===e||0===t)return"-";var r=a-e;r*=r;var l=n-t;return l*=l,(r=65.02*Math.sqrt(r+l)).toFixed(2)}},{key:"render",value:function(){var e=this,t=this.state.locations,a=function(e,t){var a="";e!=parseInt(e)?a="Please enter a number":e<0&&(a="Please enter a positive number");var n="";return t!=parseFloat(t)?n="Please enter a price":t<0&&(n="Please enter a positive number"),{numMeals:a,mealPrice:n}}(this.state.numMeals,this.state.mealPrice),n=Object.keys(a).some(function(e){return a[e]});return c.a.createElement("div",{id:"ListPassForm"},c.a.createElement("div",{className:"form-title"},"Update Your Listings"),c.a.createElement("form",{onSubmit:this.onSubmit},c.a.createElement("div",{className:"form-element"},c.a.createElement("label",null,c.a.createElement("b",null,"Meals Listed")," "),c.a.createElement("input",{type:"text",value:this.state.numMeals,onChange:function(t){return e.setState({numMeals:t.target.value})}}),c.a.createElement("div",{className:"error"},a.numMeals)),c.a.createElement("div",{className:"form-element"},c.a.createElement("label",null,c.a.createElement("b",null,"Meal Price")," "),c.a.createElement("input",{type:"text",value:this.state.mealPrice,onChange:function(t){return e.setState({mealPrice:t.target.value})}}),c.a.createElement("div",{className:"error"},a.mealPrice)),c.a.createElement("div",{className:"form-element"},c.a.createElement("label",null,c.a.createElement("b",null,"Preferred Dining Hall")),c.a.createElement("br",null),c.a.createElement("select",{value:this.state.preferredLocation,onChange:function(t){return e.setState({preferredLocation:t.target.value})}},Object.keys(this.state.locations).map(function(a){return c.a.createElement("option",{value:a,key:a},t[a].name,"\xa0(",e.getDistance(e.state.currentLat,e.state.currentLon,t[a].lat,t[a].lon)," mi)")}))),c.a.createElement("input",{type:"submit",disabled:n})))}}]),t}(i.Component),B=I,H=c.a.createContext(null),G="/",K="/home",V=(a(62),function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"title"},"NOM"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(d.a,{to:K,id:"linknav"},"Home")),c.a.createElement("li",null,c.a.createElement(d.a,{to:"/account",id:"linknav"},"Account")),c.a.createElement("li",null,c.a.createElement(B,null)),c.a.createElement("li",null,c.a.createElement(A,null))))}),J=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"title"},"NOM"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(d.a,{to:G},"Landing")),c.a.createElement("li",null,c.a.createElement(d.a,{to:"/signin"},"Sign In"))))},$=function(){return c.a.createElement(H.Consumer,null,function(e){return e?c.a.createElement(V,null):c.a.createElement(J,null)})},Z=a(11),_=a(13),z=a(100),Q={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},Y=function(e,t){return function(){return Object(_.a)({},e,t)}},X=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(O.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.username,i=t.email,c=t.passwordOne,o=a.props.history;r.doCreateUserWithEmailAndPassword(i,c).then(function(e){l.doCreateUser(e.user.uid,n,i).then(function(){a.setState(Object(Z.a)({},Q)),o.push(K)}).catch(function(e){a.setState(Y("error",e))})}).catch(function(e){a.setState(Y("error",e))}),e.preventDefault()},a.state=Object(Z.a)({},Q),a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.email,r=t.passwordOne,l=t.passwordTwo,i=t.error,o=r!==l||""===r||""===n||""===a;return c.a.createElement("form",{onSubmit:this.onSubmit},c.a.createElement("input",{value:a,onChange:function(t){return e.setState(Y("username",t.target.value))},type:"text",placeholder:"Full Name"}),c.a.createElement("input",{value:n,onChange:function(t){return e.setState(Y("email",t.target.value))},type:"text",placeholder:"Email Address"}),c.a.createElement("input",{value:r,onChange:function(t){return e.setState(Y("passwordOne",t.target.value))},type:"password",placeholder:"Password"}),c.a.createElement("input",{value:l,onChange:function(t){return e.setState(Y("passwordTwo",t.target.value))},type:"password",placeholder:"Confirm Password"}),c.a.createElement("button",{disabled:o,type:"submit"},"Sign Up"),i&&c.a.createElement("p",null,i.message))}}]),t}(i.Component),ee=function(){return c.a.createElement("p",null,"Don't have an account?"," ",c.a.createElement(d.a,{to:"/signup"},"Sign Up"))},te=Object(z.a)(function(e){var t=e.history;return c.a.createElement("div",null,c.a.createElement("h1",null,"SignUp"),c.a.createElement(X,{history:t}))}),ae=function(e,t){return function(){return Object(_.a)({},e,t)}},ne={email:"",error:null},re=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(O.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;r.doPasswordReset(t).then(function(){a.setState(Object(Z.a)({},ne))}).catch(function(e){a.setState(ae("error",e))}),e.preventDefault()},a.state=Object(Z.a)({},ne),a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.error,r=""===a;return c.a.createElement("form",{onSubmit:this.onSubmit},c.a.createElement("input",{value:this.state.email,onChange:function(t){return e.setState(ae("email",t.target.value))},type:"text",placeholder:"Email Address"}),c.a.createElement("button",{disabled:r,type:"submit"},"Reset My Password"),n&&c.a.createElement("p",null,n.message))}}]),t}(i.Component),le=function(){return c.a.createElement("p",null,c.a.createElement(d.a,{to:"/pw-forget"},"Forgot Password?"))},ie=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Password Forget"),c.a.createElement(re,null))},ce=function(e,t){return function(){return Object(_.a)({},e,t)}},oe={email:"",password:"",error:null},ue=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(O.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,l=t.password,i=a.props.history;r.doSignInWithEmailAndPassword(n,l).then(function(){a.setState(Object(Z.a)({},oe)),i.push(K)}).catch(function(e){a.setState(ce("error",e))}),e.preventDefault()},a.state=Object(Z.a)({},oe),a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password,r=t.error,l=""===n||""===a;return c.a.createElement("form",{onSubmit:this.onSubmit},c.a.createElement("input",{value:a,onChange:function(t){return e.setState(ce("email",t.target.value))},type:"text",placeholder:"Email Address"}),c.a.createElement("input",{value:n,onChange:function(t){return e.setState(ce("password",t.target.value))},type:"password",placeholder:"Password"}),c.a.createElement("button",{disabled:l,type:"submit"},"Sign In"),r&&c.a.createElement("p",null,r.message))}}]),t}(i.Component),se=Object(z.a)(function(e){var t=e.history;return c.a.createElement("div",null,c.a.createElement("h1",null,"SignIn"),c.a.createElement(ue,{history:t}),c.a.createElement(le,null),c.a.createElement(ee,null))}),me=(a(67),function(e){return function(t){var a=function(a){function r(){return Object(v.a)(this,r),Object(g.a)(this,Object(O.a)(r).apply(this,arguments))}return Object(y.a)(r,a),Object(b.a)(r,[{key:"componentDidMount",value:function(){var t=this;n.auth.onAuthStateChanged(function(a){e(a)||(t.props.history.push("/signin"),window.location.reload())})}},{key:"render",value:function(){var e=this;return c.a.createElement(H.Consumer,null,function(a){return a?c.a.createElement(t,e.props):null})}}]),r}(c.a.Component);return Object(z.a)(a)}}),de=a(34),pe=a.n(de),he=a(35),fe=a.n(he),Ee=a(36),ve=a.n(Ee),be=a(37),ge=a.n(be),Oe=function(e){return 100*e},ye=function(e){alert("Payment Successful")},we=function(e){alert("Payment Error")},je=function(e){var t=e.name,a=e.description,n=e.amount;return c.a.createElement(fe.a,{name:t,description:a,amount:Oe(n),token:function(e,t){return function(a){return pe.a.post(ge.a,{description:t,source:a.id,currency:"USD",amount:Oe(e)}).then(ye).catch(we)}}(n,a),currency:"USD",stripeKey:ve.a})},Se=h.a.auth(),Ce=(h.a.database(),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(O.a)(t).call(this,e))).state={users:null,uid:Se.currentUser.uid,username:"",email:""},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;l.onceGetUsers().then(function(t){return e.setState({users:t.val()})})}},{key:"render",value:function(){var e=this.state.users,t=this.state.uid;if(!this.state.users)return c.a.createElement("div",null,c.a.createElement("h1",null,"Home"),"No users with meals for sale ):");var a=function(e,t){var a=[];for(var n in e)parseFloat(e[n].numMeals)>0&&parseFloat(e[n].mealPrice)>0&&null!=n&&n!=t&&a.push(e[n]);return a}(e,t);return c.a.createElement("div",null,c.a.createElement("h1",{id:"home-title"},"Home"),c.a.createElement("div",null,c.a.createElement("h2",null," Available Passes"),c.a.createElement("table",{style:ke},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",{id:"name"},"Name"),c.a.createElement("th",{id:"price"},"Price"),c.a.createElement("th",{id:"numMeals"},"Number of Meals"),c.a.createElement("th",{id:"location"},"Dining Hall"),c.a.createElement("th",{id:"payment"},"Payment")),a.map(function(e){return c.a.createElement("tr",{align:"center",key:e.email},c.a.createElement("td",{headers:"name"},c.a.createElement("div",null,c.a.createElement(d.a,{to:"/".concat(String(e.email))}," ",e.username," "))),c.a.createElement("td",null,"$",parseFloat(e.mealPrice).toFixed(2)),c.a.createElement("td",null,e.numMeals),c.a.createElement("td",null,function(e){var t="";switch(e){case"location1":t="Porter & Kresge";break;case"location2":t="Rachel Carson & Oakes";break;case"location3":t="College 9 & 10";break;case"location4":t="Cowell & Stevenson";break;case"location5 ":t="Crown & Merrill";break;default:t="No given location"}return t}(e.preferredLocation)),c.a.createElement("td",null,c.a.createElement(je,{name:"NOM Meal",description:"Buying meal from: "+e.username,amount:e.mealPrice})))}))),c.a.createElement("div",{align:"center"},c.a.createElement("h3",null,"Average Price:"),"$",function(e,t){var a=0,n=0;for(var r in e)parseFloat(e[r].mealPrice)>0&&(console.log(r),console.log("\n\n i ^ "+t),null!=r&&r!=t&&(a+=parseFloat(e[r].mealPrice),n++));return(a/n).toFixed(2)}(e,t))))}}]),t}(i.Component));var ke={border:"3px solid black",width:"100%"},Pe=me(function(e){return!!e})(Ce),xe=(a(87),function(e,t){return function(){return Object(_.a)({},e,t)}}),Me={passwordOne:"",passwordTwo:"",error:null},De=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(O.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.passwordOne;r.doPasswordUpdate(t).then(function(){a.setState(Object(Z.a)({},Me))}).catch(function(e){a.setState(xe("error",e))}),e.preventDefault()},a.state=Object(Z.a)({},Me),a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.passwordOne,n=t.passwordTwo,r=t.error,l=a!==n||""===a;return c.a.createElement("form",{onSubmit:this.onSubmit},c.a.createElement("input",{value:a,onChange:function(t){return e.setState(xe("passwordOne",t.target.value))},type:"password",placeholder:"New Password"}),c.a.createElement("input",{value:n,onChange:function(t){return e.setState(xe("passwordTwo",t.target.value))},type:"password",placeholder:"Confirm New Password"}),c.a.createElement("button",{disabled:l,type:"submit"},"Reset My Password"),r&&c.a.createElement("p",null,r.message))}}]),t}(i.Component),Ue=a(38),Ne=a.n(Ue);a(92);function Le(e){return parseFloat(e.rating)}var qe=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(O.a)(t).call(this,e))).reviewSort=function(e){return!0===a.state.rating?e.sort(function(e,t){return Le(e)-Le(t)}):e},a.state={new:!0,rating:!1,ascending:!0},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=function(e){var t=[];for(var a in e)t.push(e[a]);return t}(this.props.review),t=function(e){var t=0,a=0;for(var n in e)null!==e[n]&&(a+=Le(e[n]),t++);return a/t}(e);return e=this.reviewSort(e),c.a.createElement("div",null,c.a.createElement("h3",null,"Average Rating:  ",t,"/5 "),e.map(function(e){return c.a.createElement("div",{id:"single-review"},c.a.createElement("b",null,e.reviewer),"\xa0 User Rating : ",c.a.createElement(Ne.a,{rating:Le(e),starDimension:"23px",starSpacing:"0px",starRatedColor:"yellow"}),c.a.createElement("br",null),function(e){return e.review}(e),c.a.createElement("br",null))}))}}]),t}(i.Component),Ae=h.a.auth(),Fe=h.a.database(),Re=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(O.a)(t).call(this,e))).onSubmit=function(e){Fe.ref("users/"+a.state.uid).update({userDescription:a.state.userDescription,contactinfo:a.state.contactinfo,paypal:a.state.paypal})},a.state={uid:Ae.currentUser.uid,username:"",email:"",userDescription:"",contactinfo:"",reviews:"",paypal:"",location:""},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){Fe.ref("users/"+this.state.uid).on("value",function(e){this.setState({username:e.val().username,email:e.val().email,userDescription:e.val().userDescription,contactinfo:e.val().contactinfo,reviews:e.val().reviews,paypal:e.val().paypal,location:e.val().preferredLocation})}.bind(this))}},{key:"render",value:function(){var e=this,t=this.state.location;return c.a.createElement("div",null,c.a.createElement("h1",{id:"account-title"},"Account"),c.a.createElement("div",{id:"container"},c.a.createElement("h2",null,"Welcome ",this.state.username,"! "),c.a.createElement("div",{id:"about-me-cont"},c.a.createElement("div",{id:"about-me-box-one"},c.a.createElement("p",{className:"section"}," ",c.a.createElement("b",null," About Me: ")," "),c.a.createElement("p",null,this.state.userDescription),c.a.createElement("p",null," ",c.a.createElement("b",null," Contact Info: "),this.state.contactinfo," "),c.a.createElement("p",null,c.a.createElement("b",null,"PayPal Email: "),this.state.paypal),c.a.createElement("p",null,c.a.createElement("b",null,"Preferred Location: "),function(e){var t="";switch(e){case"location1":t="Porter & Kresge";break;case"location2":t="Rachel Carson & Oakes";break;case"location3":t="College 9 & 10";break;case"location4":t="Cowell & Stevenson";break;case"location5 ":t="Crown & Merrill";break;default:t="No given location"}return t}(t)),c.a.createElement("h3",{className:"section"}," User Rating "),c.a.createElement("div",null,c.a.createElement(qe,{review:this.state.reviews})),c.a.createElement(We,null)),c.a.createElement("div",{id:"about-me-box-two"},c.a.createElement("form",{onSubmit:this.onSubmit},c.a.createElement("h3",null,"Update Information"),c.a.createElement("div",null,c.a.createElement("p",null,"About Me"),c.a.createElement("input",{type:"text",placeholder:"Tell us about yourself",value:this.state.userDescription,onChange:function(t){return e.setState({userDescription:t.target.value})}})),c.a.createElement("div",null,c.a.createElement("p",null,"Contact Info"),c.a.createElement("input",{type:"text",placeholder:"Email or Phone",value:this.state.contactinfo,onChange:function(t){return e.setState({contactinfo:t.target.value})}})),c.a.createElement("div",null,c.a.createElement("p",null,"Paypal"),c.a.createElement("input",{type:"text",placeholder:"Paypal Email",value:this.state.paypal,onChange:function(t){return e.setState({paypal:t.target.value})}})),c.a.createElement("button",{id:"submit-button",type:"submit"},"Submit"))))),c.a.createElement("footer",null,c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null)))}}]),t}(i.Component);var We=function(){return c.a.createElement(H.Consumer,null,function(e){return c.a.createElement("div",null,c.a.createElement("h3",{className:"section"}," Change My Password"),c.a.createElement("p",null," Change my password ")," ",c.a.createElement(De,null))})},Ie=me(function(e){return!!e})(Re),Te=(a(94),h.a.auth()),Be=h.a.database(),He=function(e){function t(e){var a;return Object(v.a)(this,t),a=Object(g.a)(this,Object(O.a)(t).call(this,e)),Be.ref("users/"+Te.currentUser.uid).on("value",function(e){"admin"!==e.val().role&&this.props.history.push(G)}.bind(Object(F.a)(Object(F.a)(a)))),a.state={events:""},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){Be.ref("stripe-events").on("value",function(e){this.setState({events:e.val()})}.bind(this))}},{key:"render",value:function(){return c.a.createElement("div",{id:"admin-page"},c.a.createElement(Ge,{events:this.state.events}),c.a.createElement(Ke,{events:this.state.events}),c.a.createElement(Ve,{events:this.state.events}))}}]),t}(i.Component),Ge=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){this.props.events;return c.a.createElement("div",null)}}]),t}(i.Component),Ke=function(e){function t(e){return Object(v.a)(this,t),Object(g.a)(this,Object(O.a)(t).call(this,e))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.events;return c.a.createElement("div",{class:"activity-table"},c.a.createElement("div",{class:"table-header"},"Charges"),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"User"),c.a.createElement("th",null,"Type"),c.a.createElement("th",null,"Status"),c.a.createElement("th",null,"Amount"),c.a.createElement("th",null,"Date"))),c.a.createElement("tbody",null,Object.keys(e).map(function(t){var a=e[t].event,n=a.data.object,r=new Date(1e3*n.created).toLocaleString("en-US",{timeZone:"America/Los_Angeles"});if(n.paid)c.a.createElement("button",null,"Refund");if(a.type.startsWith("charge"))return c.a.createElement("tr",{key:n.id},c.a.createElement("td",null),c.a.createElement("td",null,function(e){var t,a=e.indexOf("."),n=e.indexOf(".",a+1);if(-1==n)var r=e.substr(a+1);else var r=e.substr(a+1,n-a-1);t="succeeded"==r?"green":"dispute"==r||"refund"==r?"red":"yellow";return c.a.createElement("div",{className:"type "+t},r)}(a.type)),c.a.createElement("td",null,function(e){var t=e.indexOf("."),a=e.indexOf(".",t+1);if(-1!=a)return e.substr(a+1)}(a.type)),c.a.createElement("td",null,"$",n.amount),c.a.createElement("td",null,r.toString()))}))))}}]),t}(i.Component),Ve=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.events;return c.a.createElement("div",{class:"activity-table"},c.a.createElement("div",{class:"table-header"},"Other Events"),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Type"),c.a.createElement("th",null,"Amount"),c.a.createElement("th",null,"Date"),c.a.createElement("th",null,"Action"))),c.a.createElement("tbody",null,Object.keys(e).map(function(t){var a,n=e[t].event,r=n.data.object,l=new Date(1e3*r.created).toLocaleString("en-US",{timeZone:"America/Los_Angeles"});if(r.paid&&(a=c.a.createElement("button",null,"Refund")),!n.type.startsWith("charge"))return c.a.createElement("tr",{key:r.id},c.a.createElement("td",null,n.type),c.a.createElement("td",null,"$",r.amount),c.a.createElement("td",null,l.toString()),c.a.createElement("td",null,a))}))))}}]),t}(i.Component);var Je=me(function(e){return!!e})(He);function $e(e){var t=e.user;return c.a.createElement("div",null,"email: ",t.email,c.a.createElement("br",null),"User Desc: ",t.userDescription,c.a.createElement("br",null),"Current Price: ",t.mealPrice,c.a.createElement("br",null),"No. of Meals: ",t.numMeals,c.a.createElement("br",null),c.a.createElement(qe,{review:t.reviews}))}var Ze=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(O.a)(t).call(this,e))).state={users:null},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;l.onceGetUsers().then(function(t){return e.setState({users:t.val()})})}},{key:"render",value:function(){return function(e){var t=[];for(var a in e)t.push(e[a]);return t}(this.state.users).map(function(e){return c.a.createElement("div",null,c.a.createElement(m.a,{exact:!0,path:"/".concat(String(e.email)),render:function(t){return c.a.createElement($e,Object.assign({},t,{user:e}))}}))})}}]),t}(i.Component),_e=function(e){return function(t){function a(e){var t;return Object(v.a)(this,a),(t=Object(g.a)(this,Object(O.a)(a).call(this,e))).state={authUser:null},t}return Object(y.a)(a,t),Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;n.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"render",value:function(){var t=this.state.authUser;return c.a.createElement(H.Provider,{value:t},c.a.createElement(e,this.props))}}]),a}(c.a.Component)}(function(){return c.a.createElement(s.a,null,c.a.createElement("div",null,c.a.createElement($,null),c.a.createElement("hr",null),c.a.createElement(m.a,{exact:!0,path:G,component:P}),c.a.createElement(m.a,{exact:!0,path:"/signup",component:te}),c.a.createElement(m.a,{exact:!0,path:"/signin",component:se}),c.a.createElement(m.a,{exact:!0,path:"/pw-forget",component:ie}),c.a.createElement(m.a,{exact:!0,path:K,component:Pe}),c.a.createElement(m.a,{exact:!0,path:"/account",component:Ie}),c.a.createElement(m.a,{exact:!0,path:"/admin",component:Je}),c.a.createElement(Ze,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,2,1]]]);
//# sourceMappingURL=main.498df4f9.chunk.js.map