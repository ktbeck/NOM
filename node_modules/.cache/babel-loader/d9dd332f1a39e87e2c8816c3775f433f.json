{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Kyler Beck\\\\Documents\\\\CS115\\\\cs115\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Kyler Beck\\\\Documents\\\\CS115\\\\cs115\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Kyler Beck\\\\Documents\\\\CS115\\\\cs115\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Kyler Beck\\\\Documents\\\\CS115\\\\cs115\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Kyler Beck\\\\Documents\\\\CS115\\\\cs115\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Kyler Beck\\\\Documents\\\\CS115\\\\cs115\\\\src\\\\components\\\\withAuthorization.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport AuthUserContext from './AuthUserContext';\nimport { firebase } from '../firebase';\nimport * as routes from '../constants/routes';\n\nvar withAuthorization = function withAuthorization(authCondition) {\n  return function (Component) {\n    var WithAuthorization =\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inherits(WithAuthorization, _React$Component);\n\n      function WithAuthorization() {\n        _classCallCheck(this, WithAuthorization);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(WithAuthorization).apply(this, arguments));\n      }\n\n      _createClass(WithAuthorization, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          var _this = this;\n\n          firebase.auth.onAuthStateChanged(function (authUser) {\n            if (!authCondition(authUser)) {\n              _this.props.history.push(routes.SIGN_IN);\n            }\n          });\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(AuthUserContext.Consumer, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 20\n            },\n            __self: this\n          }, function (authUser) {\n            return authUser ? React.createElement(Component, Object.assign({}, _this2.props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 21\n              },\n              __self: this\n            })) : null;\n          });\n        }\n      }]);\n\n      return WithAuthorization;\n    }(React.Component);\n\n    return withRouter(WithAuthorization);\n  };\n};\n\nexport default withAuthorization;","map":{"version":3,"sources":["C:\\Users\\Kyler Beck\\Documents\\CS115\\cs115\\src\\components\\withAuthorization.js"],"names":["React","withRouter","AuthUserContext","firebase","routes","withAuthorization","authCondition","Component","WithAuthorization","auth","onAuthStateChanged","authUser","props","history","push","SIGN_IN"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAO,KAAKC,MAAZ,MAAwB,qBAAxB;;AAEA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,aAAD;AAAA,SAAmB,UAACC,SAAD,EAAe;AAAA,QACpDC,iBADoD;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,4CAEpC;AAAA;;AAClBL,UAAAA,QAAQ,CAACM,IAAT,CAAcC,kBAAd,CAAiC,UAAAC,QAAQ,EAAI;AAC3C,gBAAI,CAACL,aAAa,CAACK,QAAD,CAAlB,EAA8B;AAC5B,cAAA,KAAI,CAACC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwBV,MAAM,CAACW,OAA/B;AACD;AACF,WAJD;AAKD;AARuD;AAAA;AAAA,iCAU/C;AAAA;;AACP,iBACE,oBAAC,eAAD,CAAiB,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACG,UAAAJ,QAAQ;AAAA,mBAAIA,QAAQ,GAAG,oBAAC,SAAD,oBAAe,MAAI,CAACC,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAH,GAAmC,IAA/C;AAAA,WADX,CADF;AAKD;AAhBuD;;AAAA;AAAA,MAC1BZ,KAAK,CAACO,SADoB;;AAmB1D,WAAON,UAAU,CAACO,iBAAD,CAAjB;AACD,GApByB;AAAA,CAA1B;;AAsBA,eAAeH,iBAAf","sourcesContent":["import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport AuthUserContext from './AuthUserContext';\r\nimport { firebase } from '../firebase';\r\nimport * as routes from '../constants/routes';\r\n\r\nconst withAuthorization = (authCondition) => (Component) => {\r\n  class WithAuthorization extends React.Component {\r\n    componentDidMount() {\r\n      firebase.auth.onAuthStateChanged(authUser => {\r\n        if (!authCondition(authUser)) {\r\n          this.props.history.push(routes.SIGN_IN);\r\n        }\r\n      });\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Consumer>\r\n          {authUser => authUser ? <Component {...this.props} /> : null}\r\n        </AuthUserContext.Consumer>\r\n      );\r\n    }\r\n  }\r\n\r\n  return withRouter(WithAuthorization);\r\n}\r\n\r\nexport default withAuthorization;"]},"metadata":{},"sourceType":"module"}